<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üá´üá∑ Li√ß√£o: Pronomes em Franc√™s (Guia para Brasileiros)</title>
    <!-- Carrega o Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configura√ß√£o do Google Font 'Inter' -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb;
        }
        /* Estilos personalizados para o cart√£o de flashcard */
        .flashcard-flip {
            transform: rotateY(180deg);
        }
        .flashcard-front, .flashcard-back {
            backface-visibility: hidden;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .flashcard-back {
            transform: rotateY(180deg);
        }
        .card-container {
            perspective: 1000px;
        }
    </style>
</head>
<body>
    <div id="app" class="max-w-4xl mx-auto p-4 md:p-8">
        <!-- O conte√∫do ser√° injetado aqui pelo JavaScript -->
    </div>

    <script type="module">
        // --- √çcones (Simulando lucide-react com SVG inline) ---
        // A fun√ß√£o getIcon retorna o SVG para o √≠cone desejado
        const getIcon = (name, className = 'w-5 h-5 mr-2') => {
            const icons = {
                ChevronRight: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${className}"><path d="m9 18 6-6-6-6"/></svg>`,
                RotateCcw: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${className}"><path d="M3 2v6h6"/><path d="M21 12A9 9 0 0 0 6 5.3L3 8m18 14v-6h-6"/><path d="M3 12a9 9 0 0 0 15 6.7l3-3"/></svg>`,
                Volume2: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${className}"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a4.99 4.99 0 0 1 0 7.07"/><path d="M19.07 4.93a9 9 0 0 1 0 14.14"/></svg>`,
                Lightbulb: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${className}"><path d="M15 14c.2-1 .6-1.7.9-2.2v-2.1A6 6 0 0 0 5 8a6 6 0 0 0 7 6v2l-3 2v2h6v-2l-3-2v-2h-.1c-.3.5-.8 1.4-.9 2.2z"/><path d="M19.06 13A8.99 8.99 0 0 0 21 8a6 6 0 0 0-3-5.19"/><path d="M7.94 13a8.99 8.99 0 0 0-1.94-5.19"/><line x1="12" x2="12" y1="18" y2="20"/></svg>`,
                CheckCircle: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${className}"><path d="M22 11.08V12a10 10 0 1 1-5.06-8.76"/><path d="M22 4 12 14.01 9 11.01"/></svg>`,
                XCircle: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${className}"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>`,
                BookOpen: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${className}"><path d="M2 12c.9-1.3 2.1-2.4 3.5-3.2A8 8 0 1 0 22 12c-1.8 2.3-4.2 4-7.1 4.7a6.6 6.6 0 0 1-1.7.3c-.6 0-1.3-.1-1.9-.3-1.6-.4-3-1.3-4.2-2.7"/><path d="M2 12h5a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H2z"/><path d="M22 12h-5a2 2 0 0 0-2-2V4a2 2 0 0 0 2-2h5z"/></svg>`,
            };
            return icons[name] || '';
        };

        // --- Dados da Li√ß√£o ---
        const lessonData = [
          // 1. Vis√£o Geral dos Tipos de Pronomes
          {
            id: 'types',
            title: "1. Vis√£o Geral: Tipos de Pronomes em Franc√™s",
            description: "Os pronomes substituem um substantivo e assumem diversas fun√ß√µes (sujeito, objeto, posse, etc.) na frase. Esta tabela lista os principais tipos e seus exemplos.",
            color: 'bg-indigo-100 border-indigo-600',
            data: [
              { fr: "Pessoais (Sujeito)", pt: "Substitui a pessoa", obs: "je, tu, il, elle, on, nous, vous, ils, elles (Eu, tu, ele...)", category: 'Principal' },
              { fr: "Pessoais (Objeto Direto)", pt: "Recebe a a√ß√£o (COD)", obs: "me, te, le, la, nous, vous, les (me, te, o, a...)", category: 'Principal' },
              { fr: "Pessoais (Objeto Indireto)", pt: "Recebe a a√ß√£o (COI)", obs: "me, te, lui, nous, vous, leur (me, te, lhe, nos, vos, lhes)", category: 'Principal' },
              { fr: "Reflexivos", pt: "A√ß√£o retorna ao sujeito", obs: "me, te, se, nous, vous, se (me, te, se...)", category: 'Principal' },
              { fr: "Preposicionais/T√¥nicos", pt: "√änfase, ap√≥s preposi√ß√µes", obs: "moi, toi, lui, elle, nous, vous, eux, elles (mim, ti, ele...)", category: 'Principal' },
              { fr: "Possessivos (Pronomes)", pt: "Substitui o substantivo + posse", obs: "le mien, la tienne, les leurs (o meu, a tua, os deles)", category: 'Principal' },
            ],
            headers: ['Tipo de Pronome', 'Fun√ß√£o', 'Exemplos Chave (Franc√™s)'],
            brazilianWalkthroughs: [
                {
                    pronoun: "O Dilema do Pronome (PT vs FR)",
                    pt_context: "Em franc√™s, voc√™ usa muito mais pronomes que em portugu√™s. N√£o h√° omiss√£o do sujeito ('Eu amo' √© sempre *J'aime*). Al√©m disso, a maioria dos pronomes de objeto e adverbiais v√™m **antes** do verbo, nunca depois (exceto no imperativo).",
                    example: "Je vous appelle. (Eu ligo para voc√™s.)",
                    color: 'bg-indigo-50 text-indigo-800'
                },
            ]
          },
          // 2. Pronomes Pessoais de Sujeito
          {
            id: 'sujet',
            title: "2. Pronomes Pessoais de Sujeito (Qui fait l'action?)",
            description: "Estes s√£o os pronomes mais b√°sicos, indicando quem realiza a a√ß√£o. A principal dificuldade para brasileiros √© a diferen√ßa entre Tu, Vous e On.",
            color: 'bg-blue-100 border-blue-600',
            data: [
              { fr: "Je / J'", pt: "Eu", obs: "1¬™ P. Singular. Contra√ß√£o obrigat√≥ria antes de vogal/h mudo (J'aime).", category: 'Sujeto' },
              { fr: "Tu", pt: "Tu / Voc√™", obs: "2¬™ P. Singular. Sempre informal (amigos, fam√≠lia).", category: 'Sujeto' },
              { fr: "Il", pt: "Ele", obs: "3¬™ P. Singular. Masculino.", category: 'Sujeto' },
              { fr: "Elle", pt: "Ela", obs: "3¬™ P. Singular. Feminino.", category: 'Sujeto' },
              { fr: "On", pt: "N√≥s / A gente", obs: "3¬™ P. Singular. Uso predominante no franc√™s falado para 'N√≥s'.", category: 'Sujeto' },
              { fr: "Nous", pt: "N√≥s", obs: "1¬™ P. Plural. Uso formal ou na escrita (raro no oral).", category: 'Sujeto' },
              { fr: "Vous", pt: "Voc√™ (Formal) / Voc√™s", obs: "2¬™ P. Plural E 2¬™ P. Singular formal ('O(a) Sr(a)').", category: 'Sujeto' },
              { fr: "Ils", pt: "Eles", obs: "3¬™ P. Plural. Masculino ou grupo misto (H+M).", category: 'Sujeto' },
              { fr: "Elles", pt: "Elas", obs: "3¬™ P. Plural. Exclusivamente feminino.", category: 'Sujeto' },
            ],
            headers: ['Pronome Franc√™s', 'Equivalente em PT', 'Diferen√ßa Chave (PT/FR)'],
            brazilianWalkthroughs: [
                {
                    pronoun: "On (O Falso Singular)",
                    pt_context: "√â o pronome mais importante para o franc√™s falado. Ele significa **N√≥s** ou **A gente**, mas o verbo √© conjugado na 3¬™ pessoa do singular. Lembre-se: 'On va' (N√≥s vamos).",
                    example: "On **mange** une pizza. (N√≥s/A gente come uma pizza.)",
                    color: 'bg-yellow-50 text-yellow-800'
                },
                {
                    pronoun: "Tu vs. Vous",
                    pt_context: "Tu √© reservado para intimidade. **Use Vous** com desconhecidos, superiores ou em qualquer situa√ß√£o que voc√™ usaria 'O Senhor(a)'/'Voc√™s' no Brasil. √â o pronome de respeito (Tutear vs. Vosear).",
                    example: "Est-ce que vous **allez** bien, Madame? (A senhora est√° bem?)",
                    color: 'bg-green-50 text-green-800'
                },
                {
                    pronoun: "Ils vs. Elles",
                    pt_context: "Assim como no portugu√™s, **Ils** √© usado para grupos masculinos ou mistos (100 mulheres + 1 homem = *Ils*). **Elles** √© estritamente para grupos femininos.",
                    example: "Les enfants **ils** jouent. (As crian√ßas jogam.)",
                    color: 'bg-blue-50 text-blue-800'
                },
            ]
          },
          // 3. Pronomes T√¥nicos
          {
            id: 'toniques',
            title: "3. Pronomes T√¥nicos (√änfase e Posi√ß√£o Especial)",
            description: "Usados para dar √™nfase, ap√≥s preposi√ß√µes (avec, pour, chez) ou em respostas curtas (Moi aussi).",
            color: 'bg-indigo-200 border-indigo-700',
            data: [
              { fr: "Moi", pt: "Eu", obs: "Para √™nfase (Moi, je...).", category: 'T√¥nico' },
              { fr: "Toi", pt: "Tu / Voc√™", obs: "Ap√≥s preposi√ß√£o (avec toi).", category: 'T√¥nico' },
              { fr: "Lui / Elle", pt: "Ele / Ela", obs: "Em compara√ß√µes (plus grand que lui).", category: 'T√¥nico' },
              { fr: "Nous / Vous", pt: "N√≥s / Voc√™s/O(a) Sr(a)", obs: "Invari√°veis na forma (igual ao sujeito).", category: 'T√¥nico' },
              { fr: "Eux / Elles", pt: "Eles / Elas", obs: "Em respostas curtas (Ce sont eux).", category: 'T√¥nico' },
            ],
            headers: ['Pronome Franc√™s', 'Equivalente em PT', 'Exemplo de Uso'],
            brazilianWalkthroughs: [
                {
                    pronoun: "Moi, Toi (√änfase)",
                    pt_context: "Sempre que o pronome estiver **isolado** ou for usado para **dar peso** √† frase, use o t√¥nico. Se voc√™ disser 'Eu, eu trabalho' para insistir, use o t√¥nico seguido do pronome sujeito.",
                    example: "**Moi**, je pr√©f√®re le th√©. (Eu, eu prefiro ch√°.)",
                    color: 'bg-indigo-50 text-indigo-800'
                },
                {
                    pronoun: "Ap√≥s Preposi√ß√£o (Lui, Elle, Eux, Elles)",
                    pt_context: "Qualquer pronome ap√≥s uma preposi√ß√£o (*avec*, *pour*, *sans*, *chez*, etc.) deve ser t√¥nico. N√£o confunda com o objeto indireto *lui* (sem preposi√ß√£o vis√≠vel).",
                    example: "Je vais chez **lui**. (Eu vou √† casa dele.)",
                    color: 'bg-indigo-50 text-indigo-800'
                },
            ],
            examples: [
                { pt: "Eu tamb√©m quero um caf√©.", fr: "**Moi** aussi, je veux un caf√©.", usage: "√änfase/Resposta Curta (Moi)" },
                { pt: "Voc√™ vai com ele.", fr: "Tu vas avec **lui**.", usage: "Ap√≥s Preposi√ß√£o (Lui)" },
                { pt: "S√£o elas que organizaram a festa.", fr: "Ce sont **elles** qui ont organis√© la f√™te.", usage: "√änfase/C'est... que (Elles)" },
                { pt: "Ele √© mais velho do que eu.", fr: "Il est plus √¢g√© que **moi**.", usage: "Em Compara√ß√£o (Moi)" },
                { pt: "Voc√™s est√£o prontos?", fr: "**Vous**, vous √™tes pr√™ts?", usage: "Reduplica√ß√£o de Sujeito (Vous)" },
            ]
          },
          // 4. Adjetivos Possessivos (Mon, Ma, Mes...)
          {
            id: 'possessifs_adj',
            title: "4. Adjetivos Possessivos (Mon, Ma, Mes...)",
            description: "Estes 'pronomes' (adjetivos) concordam em G√äNERO e N√öMERO com o objeto possu√≠do, e n√£o com o possuidor.",
            color: 'bg-yellow-100 border-yellow-600',
            data: [
              { fr: "Mon / Ma / Mes", pt: "Meu/Minha/Meus/Minhas", obs: "Concorda com o objeto possu√≠do.", category: '1¬™ P. Sing.' },
              { fr: "Ton / Ta / Tes", pt: "Teu/Tua/Teus/Tuas", obs: "Concorda com o objeto possu√≠do.", category: '2¬™ P. Sing.' },
              { fr: "Son / Sa / Ses", pt: "Dele/Dela", obs: "Concorda com o objeto possu√≠do.", category: '3¬™ P. Sing.' },
              { fr: "Notre / Nos", pt: "Nosso/Nossa/Nossos/Nossas", obs: "S√≥ varia no plural.", category: '1¬™ P. Plural' },
              { fr: "Votre / Vos", pt: "Vosso/Vossa/Vossos/Vossas (De voc√™s/De o(a) Sr(a))", obs: "S√≥ varia no plural.", category: '2¬™ P. Plural' },
              { fr: "Leur / Leurs", pt: "Deles/Delas", obs: "S√≥ varia no plural.", category: '3¬™ P. Plural' },
            ],
            headers: ['Adjetivo Franc√™s', 'Equivalente em PT', 'Regra Chave'],
            brazilianWalkthroughs: [
                {
                    pronoun: "Mon para Feminino (Vogal)",
                    pt_context: "Se o substantivo feminino come√ßar com vogal ou 'h' mudo, voc√™ **deve** usar o masculino (*Mon*, *Ton*, *Son*) para evitar o encontro de vogais. Nunca diga *Ma amie*, e sim **Mon amie**.",
                    example: "**Mon** √©cole est grande. (Minha escola √© grande.)",
                    color: 'bg-yellow-50 text-yellow-800'
                },
                {
                    pronoun: "Son/Sa (Confus√£o com G√™nero)",
                    pt_context: "O pronome *Son/Sa* refere-se √† posse de *Il* ou *Elle*, mas o g√™nero do *Son/Sa* √© determinado pelo objeto. *Son livre* (o livro dele **ou** dela). O livro √© masculino.",
                    example: "Marie aime **son** chien. (Marie ama o cachorro dela.)",
                    color: 'bg-yellow-50 text-yellow-800'
                },
            ]
          },
          // 5. Adjetivos Demonstrativos (Ce, Cet, Cette, Ces)
          {
            id: 'demonstratifs_adj',
            title: "5. Adjetivos Demonstrativos (Ce, Cet, Cette, Ces)",
            description: "Usados para apontar pessoas ou coisas (Este, Esse, Aquele, etc.). Concordam em g√™nero e n√∫mero com o nome que acompanham.",
            color: 'bg-orange-100 border-orange-600',
            data: [
              { fr: "Ce", pt: "Este / Esse", obs: "Masculino singular que come√ßa por consoante.", category: 'Singular M' },
              { fr: "Cet", pt: "Este / Esse", obs: "Masculino singular que come√ßa por vogal/h mudo.", category: 'Singular M' },
              { fr: "Cette", pt: "Esta / Essa", obs: "Feminino singular.", category: 'Singular F' },
              { fr: "Ces", pt: "Estes / Essas", obs: "Plural (Masc e Fem).", category: 'Plural' },
            ],
            headers: ['Pronome Franc√™s', 'Equivalente em PT', 'Regra Chave'],
            brazilianWalkthroughs: [
                {
                    pronoun: "Ce vs. Cet",
                    pt_context: "Assim como nos possessivos, a forma *Cet* √© a contra√ß√£o do masculino singular para evitar vogais consecutivas. Voc√™ n√£o diz *Ce homme*, mas sim **Cet homme**.",
                    example: "**Cet** appartement est grand. (Este apartamento √© grande.)",
                    color: 'bg-orange-50 text-orange-800'
                },
                {
                    pronoun: "Distin√ß√£o de Proximidade (-ci / -l√†)",
                    pt_context: "Para distinguir 'este' de 'aquele' (proximidade), adicione **-ci** (aqui) ou **-l√†** (l√°) ao substantivo. O adjetivo demonstrativo (*Ce, Cette, Ces*) n√£o muda.",
                    example: "**Ce** livre-ci (Este livro aqui) / **Cette** maison-l√† (Aquela casa l√°).",
                    color: 'bg-orange-50 text-orange-800'
                },
            ]
          },
          // 6. Pronomes Objeto Direto (COD)
          {
            id: 'objets_directs',
            title: "6. Pronomes Objeto Direto (COD - Quem/O qu√™?)",
            description: "Substituem um substantivo (pessoa ou coisa) que √© objeto direto de um verbo (responde √† pergunta 'quem?' ou 'o qu√™?').",
            color: 'bg-pink-100 border-pink-600',
            data: [
                { fr: "Me / Te / Nous / Vous", pt: "Me / Te / Nos / Vos", obs: "Usados para 1¬™ e 2¬™ pessoas (reflexivo ou objeto).", category: '1¬™/2¬™ P.' },
                { fr: "Le / La / L'", pt: "O / A", obs: "'L'' √© usado antes de verbo com vogal/h mudo. Sempre antes do verbo.", category: '3¬™ Sing.' },
                { fr: "Les", pt: "Os / As", obs: "3¬™ pessoa plural (Masc/Fem).", category: '3¬™ Plur.' },
            ],
            headers: ['Pronome Franc√™s', 'Equivalente em PT', 'Regra Chave e Exemplo'],
            brazilianWalkthroughs: [
                {
                    pronoun: "Le / La / Les (Posi√ß√£o)",
                    pt_context: "Em portugu√™s, o COD vem depois do verbo (Eu o vejo). Em franc√™s, ele vem **antes** do verbo. Lembre-se que eles contraem com o verbo se este come√ßar com vogal (L').",
                    example: "Je vois la femme. ‚Üí Je **la** vois. (Eu a vejo.)",
                    color: 'bg-pink-50 text-pink-800'
                },
                {
                    pronoun: "Me, Te (Igual ao Reflexivo)",
                    pt_context: "Os pronomes *Me* e *Te* s√£o os mesmos para objeto direto, indireto e reflexivo. A fun√ß√£o s√≥ muda com a 3¬™ pessoa (*le/la* para direto e *lui* para indireto).",
                    example: "Il **me** regarde. (Ele me olha.)",
                    color: 'bg-pink-50 text-pink-800'
                },
            ]
          },
          
          // 7. Pronomes Objeto Indireto (COI)
          {
            id: 'objets_indirects',
            title: "7. Pronomes Objeto Indireto (COI - A quem?)",
            description: "Substituem um substantivo (pessoa) que √© objeto indireto, geralmente introduzido por '√†' (a quem?).",
            color: 'bg-teal-100 border-teal-600',
            data: [
                { fr: "Me / Te / Nous / Vous", pt: "Me / Te / Nos / Vos", obs: "Usados para 1¬™ e 2¬™ pessoas. Mesmo que o COD.", category: '1¬™/2¬™ P.' },
                { fr: "Lui", pt: "Lhe / A ele/ela", obs: "3¬™ pessoa singular (Masculino e Feminino).", category: '3¬™ Sing.' },
                { fr: "Leur", pt: "Lhes / A eles/elas", obs: "3¬™ pessoa plural (Masc/Fem). Ex: Je leur parle.", category: '3¬™ Plur.' },
            ],
            headers: ['Pronome Franc√™s', 'Equivalente em PT', 'Regra Chave e Exemplo'],
            brazilianWalkthroughs: [
                {
                    pronoun: "Lui (Unissex)",
                    pt_context: "Ao contr√°rio do portugu√™s, onde 'lhe' √© o equivalente, em franc√™s **Lui** √© usado tanto para *a ele* quanto para *a ela*. Voc√™ n√£o precisa se preocupar com o g√™nero da pessoa, apenas com o n√∫mero (singular).",
                    example: "Je t√©l√©phone √† Marie. ‚Üí Je **lui** t√©l√©phone. (Eu ligo para ela.)",
                    color: 'bg-teal-50 text-teal-800'
                },
                {
                    pronoun: "Leur (Plural COI)",
                    pt_context: "Leur significa 'a eles' ou 'a elas'. Tamb√©m √© invari√°vel em g√™nero e √© sempre colocado antes do verbo. N√£o confunda com o Adjetivo Possessivo plural (*leurs* - sem artigo).",
                    example: "Il parle aux √©tudiants. ‚Üí Il **leur** parle. (Ele fala com eles.)",
                    color: 'bg-teal-50 text-teal-800'
                },
            ],
            examples: [
                { pt: "Ele me escreve.", fr: "Il **m'**√©crit.", usage: "1¬™ Pessoa Singular (Contra√ß√£o: me ‚Üí m')" },
                { pt: "Eu te pergunto.", fr: "Je **te** demande.", usage: "2¬™ Pessoa Singular" },
                { pt: "Voc√™ nos fala.", fr: "Vous **nous** parlez.", usage: "1¬™ Pessoa Plural" },
                { pt: "Eu dou um livro a ela.", fr: "Je **lui** donne un livre.", usage: "3¬™ Pessoa Singular (Feminino - Lui √© unissex)" },
                { pt: "Ele responde aos alunos.", fr: "Il **leur** r√©pond.", usage: "3¬™ Pessoa Plural" },
            ]
          },
          
          // 8. Pronomes Adverbiais Y e EN
          {
            id: 'y_en',
            title: "8. Pronomes Adverbiais (Y & En)",
            description: "Y e En substituem frases inteiras e s√£o cruciais para a flu√™ncia. Eles funcionam de forma semelhante a adv√©rbios/pronomes em portugu√™s.",
            color: 'bg-cyan-100 border-cyan-600',
            data: [
                { fr: "Y", pt: "L√° / A√≠ / A isso", obs: "Substitui um LUGAR (√†, dans, sur) ou uma COISA introduzida por '√†'.", category: 'Lugar/Coisa (√†)' },
                { fr: "En", pt: "Disso / Dele(a) / Alguns", obs: "Substitui um objeto introduzido por 'de' (incluindo partitivos) ou um n√∫mero/quantidade.", category: 'Coisa (de)/Quantidade' },
            ],
            headers: ['Pronome', 'Fun√ß√£o Principal em PT', 'Regra Chave e Exemplo de Uso'],
            brazilianWalkthroughs: [
                {
                    pronoun: "Y (O 'L√°' de Lugar)",
                    pt_context: "Use **Y** para substituir qualquer lugar. Se voc√™ pode dizer 'Eu vou **l√°**' ou 'Ele mora **l√°**', em franc√™s, voc√™ usa Y antes do verbo. √â mais f√°cil que pensar na preposi√ß√£o *√†*.",
                    example: "Tu vas √† Paris? Oui, j'**y** vais. (Tu vais a Paris? Sim, eu vou l√°.)",
                    color: 'bg-cyan-50 text-cyan-800'
                },
                {
                    pronoun: "En (O Partitivo/Quantidade)",
                    pt_context: "Se voc√™ tem uma quantidade ou usa um partitivo (*du, de la, des*), **En** substitui o objeto e mant√©m a quantidade. Em portugu√™s, dizemos 'Eu tenho dois' (subentendendo 'deles'). Em franc√™s, o **En** √© obrigat√≥rio.",
                    example: "Tu as des fr√®res? Oui, j'**en** ai deux. (Tu tens irm√£os? Sim, eu tenho dois [deles].)",
                    color: 'bg-cyan-50 text-cyan-800'
                },
            ]
          },
          
          // 9. Ordem dos Pronomes
          {
              id: 'double_pronouns',
              title: "9. A Ordem dos Pronomes na Frase",
              description: "Quando dois pronomes objeto (COD e COI) aparecem juntos, eles seguem uma ordem fixa ANTES do verbo, exceto no imperativo afirmativo.",
              color: 'bg-gray-100 border-gray-600',
              data: [
                  { fr: "Me, Te, Se, Nous, Vous", pt: "Grupo 1", obs: "Sempre v√™m em primeiro lugar, exceto antes de Y e En.", category: 'Posi√ß√£o 1' },
                  { fr: "Le, La, Les", pt: "Grupo 2 (COD)", obs: "V√™m em segundo lugar (substitui o objeto direto).", category: 'Posi√ß√£o 2' },
                  { fr: "Lui, Leur", pt: "Grupo 3 (COI)", obs: "V√™m em terceiro lugar (usados ap√≥s Le, La, Les).", category: 'Posi√ß√£o 3' },
                  { fr: "Y", pt: "Adverbial (Lugar)", obs: "Vem em quarto lugar.", category: 'Posi√ß√£o 4' },
                  { fr: "En", pt: "Adverbial (Quantidade)", obs: "Sempre o √∫ltimo.", category: 'Posi√ß√£o 5' },
              ],
              headers: ['Pronome', 'Nome do Grupo', 'Regra de Posicionamento e Exemplo'],
              brazilianWalkthroughs: [
                  {
                      pronoun: "Ordem Absoluta",
                      pt_context: "Voc√™ nunca vai dizer *Je le lui donne* em portugu√™s (Eu o dou a ele). A regra francesa √© r√≠gida: **Objeto Direto (COD) vem antes do Objeto Indireto (COI)**, *exceto* quando o COI for 'Me, Te, Nous, Vous'.",
                      example: "Tu me donnes le livre. ‚Üí Tu **me le** donnes. (Tu mo d√°s.)",
                      color: 'bg-gray-50 text-gray-800'
                  },
                  {
                      pronoun: "Ordem Y e En",
                      pt_context: "Os pronomes adverbiais Y e En s√£o 'pesos pesados' e tendem a ficar no final da sequ√™ncia, com **En** sendo sempre o √∫ltimo de todos.",
                      example: "Il donne trois pommes au magasin. ‚Üí Il **y en** donne trois. (Ele d√° tr√™s [delas] l√°.)",
                      color: 'bg-gray-50 text-gray-800'
                  },
              ]
          },
        
          // 10. Explica√ß√µes Profundas
          {
            id: 'deep_dive',
            title: "10. Explica√ß√µes Profundas: Contexto e Uso para Brasileiros",
            description: "Um guia pr√°tico focado nas dificuldades mais comuns de falantes de portugu√™s ao usar pronomes em franc√™s, com foco em como e quando usar cada um.",
            color: 'bg-red-100 border-red-600',
            isExplanation: true, // Marker for custom rendering
            explanationContent: [
                {
                    heading: "A. Pronomes Sujeito: O Dilema On, Tu e Vous",
                    points: [
                        "**O Poder do 'On' (A Gente/N√≥s):** Para a comunica√ß√£o di√°ria falada, o 'On' √© o pronome que substitui 'Nous' na maioria esmagadora das vezes. **Regra de Ouro:** *On* conjuga sempre na 3¬™ pessoa do singular (como *Il* ou *Elle*). Exemplo: *On va au march√©* (N√≥s vamos ao mercado).",
                        "**Tu vs. Vous:** A regra da formalidade √© r√≠gida. **Tu** √© estritamente para amigos, fam√≠lia e crian√ßas. **Vous** √© para o plural (Voc√™s) **e** para o tratamento formal de singular (O(a) Senhor(a), chefe, desconhecidos). Use *Vous* para qualquer pessoa que voc√™ chamaria de 'Senhor(a)' em portugu√™s.",
                        "**Ils vs. Elles:** Lembre-se, **Ils** √© a forma plural masculina E **mista** (englobando homens e mulheres). **Elles** √© usado apenas quando o grupo √© composto *apenas* por mulheres."
                    ]
                },
                {
                    heading: "B. O Erro Possessivo (Mon, Ma, Mes)",
                    points: [
                        "**Mon/Ton/Son para Substantivos Femininos:** Lembre-se, se um substantivo feminino come√ßar com uma vogal ou 'h' mudo, voc√™ √© **obrigado** a usar a forma masculina (*Mon* amie, *Ton* √©cole) para evitar o encontro de vogais. Em portugu√™s, isso n√£o acontece, ent√£o √© um erro comum.",
                        "**Son/Sa (G√™nero do Objeto, N√£o do Possuidor):** 'Son' e 'Sa' significam 'dele' OU 'dela'. O g√™nero do pronome √© determinado pelo objeto possu√≠do. *C'est son livre* (√â o livro dele/dela) ‚Äì 'livre' √© masculino, ent√£o usa-se *son*.",
                    ]
                },
                {
                    heading: "C. Objeto Direto (COD) e Indireto (COI): Posi√ß√£o",
                    points: [
                        "**Sempre Antes do Verbo:** Em franc√™s, *le, la, les, lui, leur* s√£o colocados imediatamente **antes** do verbo, exceto no imperativo afirmativo. Ex: *Je les vois* (Eu os vejo).",
                        "**Lui √© Unissex:** O pronome COI *Lui* √© usado para 'a ele' e 'a ela'. Isso simplifica muito, j√° que em portugu√™s usamos 'lhe' (unissex) mas tamb√©m 'para ele/ela'. Ex: *Je lui donne le cadeau.* (Eu dou o presente a ele/ela).",
                    ]
                },
                {
                    heading: "D. Pronomes Adverbiais: Y (Lugar/A isso) e En (Dele/Disso/Quantidade)",
                    points: [
                        "**Y (L√°/A√≠):** Substitui um **lugar** (introduzido por *√†, dans, sur, chez*) ou uma **coisa abstrata** introduzida por *√†*. Se em portugu√™s voc√™ substitui 'ao banco' por 'l√°', use **Y**. Ex: *Tu penses √† ton travail? Oui, j'y pense.* (Tu pensas no teu trabalho? Sim, eu penso nisso.)",
                        "**En (Dele/Disso/Alguns):** Substitui tudo que for introduzido pela preposi√ß√£o **de** (incluindo partitivos *du, de la, des*) ou indica **quantidade/n√∫mero**. Ex: *Tu as des livres? Oui, j'en ai deux.* (Tu tens livros? Sim, eu tenho dois [deles]).",
                    ]
                },
            ]
          },
        
          // 11. Pronomes Possessivos (Le mien, la tienne)
          {
              id: 'pronoms_possessifs',
              title: "11. Pronomes Possessivos (Le mien, La tienne, Les leurs)",
              description: "Estes pronomes **substituem** o substantivo + adjetivo possessivo. Eles sempre incluem um artigo definido (le, la, les) e concordam com o objeto POSSU√çDO.",
              color: 'bg-lime-100 border-lime-600',
              data: [
                  { fr: "Le mien / La mienne", pt: "O meu / A minha", obs: "Para 'eu' (je). Ex: Mon livre est ici, et le tien?", category: '1¬™ Sing.' },
                  { fr: "Le tien / La tienne", pt: "O teu / A tua (Informal)", obs: "Para 'tu'.", category: '2¬™ Sing.' },
                  { fr: "Le sien / La sienne", pt: "O dele/dela / A dele/dela", obs: "Para 'ele/ela' (il/elle).", category: '3¬™ Sing.' },
                  { fr: "Le n√¥tre / La n√¥tre", pt: "O nosso / A nossa", obs: "Para 'n√≥s' (nous).", category: '1¬™ Plur.' },
                  { fr: "Le v√¥tre / La v√¥tre", pt: "O de voc√™s / O seu (Formal)", obs: "Para 'vous'.", category: '2¬™ Plur.' },
                  { fr: "Le leur / La leur", pt: "O deles/delas / A deles/delas", obs: "Para 'eles/elas' (ils/elles).", category: '3¬™ Plur.' },
              ],
              headers: ['Pronome Franc√™s', 'Equivalente em PT', 'Regra Chave'],
              brazilianWalkthroughs: [
                {
                    pronoun: "O Artigo √© Crucial (Le/La/Les)",
                    pt_context: "Em portugu√™s, dizemos 'O meu √© melhor'. Em franc√™s, o artigo definido (**Le, La, Les**) √© insepar√°vel do pronome possessivo. Lembre-se: 'O meu' √© **Le mien**.",
                    example: "Ma voiture est rouge, et **la tienne** est bleue. (Meu carro √© vermelho, e o teu/sua √© azul.)",
                    color: 'bg-lime-50 text-lime-800'
                },
                {
                    pronoun: "A Concord√¢ncia",
                    pt_context: "O pronome deve concordar em g√™nero e n√∫mero com o **objeto possu√≠do**, n√£o com o possuidor. Se voc√™ substitui *la maison* (feminino), use **la** sienne, mesmo que o possuidor seja um homem (*il*).",
                    example: "Sa valise est perdue. La **leur** est chegada. (A mala deles/delas chegou.)",
                    color: 'bg-lime-50 text-lime-800'
                },
              ]
          },
          
          // 12. Pronomes Demonstrativos (Celui, Ceci, Cela)
          {
              id: 'pronoms_demonstratifs',
              title: "12. Pronomes Demonstrativos (Celui, Celle, Ceci, Cela/√áa)",
              description: "Estes pronomes substituem o substantivo, ajudando a diferenciar ou apontar coisas. S√£o divididos em simples (o que / a que) e neutros (isto / isso).",
              color: 'bg-indigo-200 border-indigo-700',
              data: [
                  { fr: "Celui / Celle", pt: "Aquele / Aquela / O que / A que", obs: "Forma simples (necessita de complemento -ci/-l√† ou relativo).", category: 'Singular' },
                  { fr: "Ceux / Celles", pt: "Aqueles / Aquelas / Os que / As que", obs: "Plural de celui/celle.", category: 'Plural' },
                  { fr: "Ceci / Cela", pt: "Isto / Isso", obs: "Forma neutra. Cela √© a mais comum na escrita.", category: 'Neutro' },
                  { fr: "√áa", pt: "Isso / Isto (Contra√ß√£o de Cela)", obs: "O demonstrativo neutro mais usado na fala di√°ria.", category: 'Neutro (Comum)' },
                  { fr: "Ce", pt: "Isto/Aquilo (Antes de '√™tre')", obs: "Usado com o verbo *√™tre* (C'est / Ce sont).", category: 'Neutro (Especial)' },
              ],
              headers: ['Pronome Franc√™s', 'Equivalente em PT', 'Regra Chave e Uso'],
              brazilianWalkthroughs: [
                {
                    pronoun: "Celui-ci / Celui-l√† (Diferencia√ß√£o)",
                    pt_context: "Para traduzir *este* (perto) e *aquele* (longe), voc√™ **deve** usar o sufixo **-ci** (aqui) ou **-l√†** (l√°) ap√≥s o pronome. *Celui-ci* (este) / *Celui-l√†* (aquele).",
                    example: "Je pr√©f√®re **celui-l√†** (aquele) pas **celui-ci** (este).",
                    color: 'bg-indigo-50 text-indigo-800'
                },
                {
                    pronoun: "√áa (O Neutro Universal)",
                    pt_context: "Se voc√™ estiver falando sobre uma ideia, uma situa√ß√£o ou algo abstrato ('Isso √© verdade', 'Tudo bem'), use **√áa**. √â a forma casual e mais comum de *cela*.",
                    example: "**√áa** va tr√®s bien! (Isso est√° muito bem! / Tudo bem!)",
                    color: 'bg-indigo-50 text-indigo-800'
                },
              ]
          },

          // 13. Pronomes Relativos (Qui, Que, Dont, O√π)
          {
              id: 'pronoms_relatifs',
              title: "13. Pronomes Relativos (Qui, Que, Dont, O√π)",
              description: "Conectam duas ora√ß√µes e evitam a repeti√ß√£o do substantivo (antecedente). A diferen√ßa entre QUI e QUE √© a mais crucial.",
              color: 'bg-fuchsia-100 border-fuchsia-600',
              data: [
                  { fr: "Qui", pt: "Quem / O qual / Que (Sujeito)", obs: "Substitui o SUJEITO (seguido por um VERBO conjugado).", category: 'Sujeito' },
                  { fr: "Que / Qu'", pt: "O que / A qual / Que (Objeto Direto)", obs: "Substitui o OBJETO DIRETO (seguido por um SUJEITO).", category: 'Objeto Direto' },
                  { fr: "Dont", pt: "Cujo / De que / Do qual", obs: "Substitui um objeto introduzido pela preposi√ß√£o 'de'.", category: 'Objeto (de)' },
                  { fr: "O√π", pt: "Onde / No qual / Quando", obs: "Substitui um lugar ou um tempo.", category: 'Lugar / Tempo' },
                  { fr: "Lequel", pt: "O qual / A qual (e varia√ß√µes)", obs: "Usado ap√≥s preposi√ß√µes diferentes de 'de' ou '√†'.", category: 'Outras Preposi√ß√µes' },
              ],
              headers: ['Pronome Franc√™s', 'Fun√ß√£o em PT', 'Regra Chave'],
              brazilianWalkthroughs: [
                {
                    pronoun: "A Regra de Ouro (Qui vs. Que)",
                    pt_context: "O que vem imediatamente depois do pronome define a escolha. Se vier um **VERBO**, use **QUI** (ele √© o sujeito). Se vier um **SUJEITO** (Je, tu, il...), use **QUE** (ele √© o objeto).",
                    example: "Le livre **qui** **est** sur la table. (O livro que est√° na mesa.)",
                    color: 'bg-fuchsia-50 text-fuchsia-800'
                },
                {
                    pronoun: "Dont (Cujo / 'De que')",
                    pt_context: "Substitui um objeto introduzido pela preposi√ß√£o 'de'. √â indispens√°vel para verbos que exigem 'de' (*avoir besoin de*, *parler de*).",
                    example: "Le film **dont** j'ai **besoin** (de). (O filme de que eu preciso.)",
                    color: 'bg-fuchsia-50 text-fuchsia-800'
                },
              ]
          },
        ];

        // Flashcards atualizados
        const flashcardData = [
            { front: "Eu (formal, para um chefe)", back: "Vous" },
            { front: "N√≥s vamos ao cinema (No franc√™s falado): On ___ au cin√©ma.", back: "va" },
            { front: "Eu dou o livro a ele (COI)", back: "Je lui donne le livre" },
            { front: "Eu vou para l√° (o lugar)", back: "J'y vais" },
            { front: "Eu tenho alguns (de caneta): J'___ ai trois stylos.", back: "en" },
            { front: "O meu (feminino singular, Pronome Possessivo)", back: "La mienne" },
            { front: "Aquele (masculino singular, Pronome Demonstrativo)", back: "Celui-l√†" },
            { front: "O homem que (sujeito) fala: L'homme ___ parle.", back: "qui" },
            { front: "Eles (somente mulheres)", back: "Elles" },
            { front: "Eles (grupo misto)", back: "Ils" },
        ];


        // --- Vari√°veis de Estado (Simula√ß√£o de useState) ---
        let currentSectionIndex = 0;
        let currentFlashcardIndex = 0;
        let isFlashcardFlipped = false;
        let isReviewMode = false;

        // --- Fun√ß√µes de Renderiza√ß√£o (Simula√ß√£o de Componentes) ---

        /**
         * Renderiza a Tabela Din√¢mica.
         */
        const renderTable = (data, headers) => {
            const headerRow = headers.map(header => `
                <th class="px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider">
                    ${header}
                </th>
            `).join('');

            const bodyRows = data.map((row, index) => `
                <tr class="${index % 2 === 0 ? 'bg-white hover:bg-gray-50' : 'bg-gray-50 hover:bg-gray-100'}">
                    <td class="px-4 py-3 whitespace-nowrap text-sm font-semibold text-blue-700">
                        ${row.fr}
                    </td>
                    <td class="px-4 py-3 text-sm text-gray-700">
                        ${row.pt}
                    </td>
                    <td class="px-4 py-3 text-sm font-medium text-gray-600">
                        ${getIcon('Lightbulb', 'inline w-4 h-4 mr-1 text-yellow-500')}
                        ${row.obs}
                    </td>
                </tr>
            `).join('');

            return `
                <div class="overflow-x-auto shadow-xl rounded-xl mt-6">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-blue-800 text-white">
                            <tr>${headerRow}</tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-100">
                            ${bodyRows}
                        </tbody>
                    </table>
                </div>
            `;
        };

        /**
         * Renderiza a se√ß√£o de Walkthrough (focada em brasileiros).
         */
        const renderWalkthrough = (walkthroughs) => {
            const cards = walkthroughs.map((w, index) => {
                const [bg, text] = w.color.split(' ');
                return `
                    <div key="${index}" class="p-4 rounded-xl shadow-inner ${bg} ${text} border-l-4 border-red-400">
                        <p class="font-extrabold text-lg mb-1 text-red-700">${w.pronoun}</p>
                        <p class="text-sm font-medium mb-2">${w.pt_context}</p>
                        <p class="bg-red-50 p-2 rounded-lg text-sm italic font-mono border border-red-200 text-red-900">
                            Exemplo: <strong>${w.example}</strong>
                        </p>
                    </div>
                `;
            }).join('');

            return `
                <div class="mt-8 pt-4 border-t-2 border-dashed border-gray-300">
                    <h3 class="text-xl font-bold text-red-600 mb-4 flex items-center">
                        ${getIcon('BookOpen', 'w-5 h-5 mr-2')}
                        Walkthrough para Brasileiros: Detalhes Essenciais
                    </h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        ${cards}
                    </div>
                </div>
            `;
        };

        /**
         * Renderiza a lista de exemplos PT/FR.
         */
        const renderExamples = (examples, title, color) => {
            const items = examples.map((ex, index) => `
                <div key="${index}" class="flex flex-col md:flex-row md:items-center p-2 rounded-lg border border-gray-200 hover:bg-blue-50 transition">
                    <div class="md:w-1/3 text-sm font-semibold text-gray-800 mb-1 md:mb-0">
                        (${ex.usage}):
                    </div>
                    <div class="md:w-2/3 md:ml-2">
                        <span class="text-sm font-medium text-gray-700 italic">PT: ${ex.pt}</span>
                        <br class="md:hidden"/>
                        <span class="text-base font-bold ml-0 md:ml-4 font-mono text-blue-800">FR: ${ex.fr}</span>
                    </div>
                </div>
            `).join('');

            return `
                <div class="mt-6 p-4 bg-white rounded-xl shadow-lg border-l-4" style="border-color: ${color.split('border-')[1].split('-')[0]}">
                    <h4 class="text-xl font-bold mb-3 flex items-center text-blue-800">
                        ${getIcon('Volume2', 'w-5 h-5 mr-2')}
                        ${title}
                    </h4>
                    <div class="space-y-3">
                        ${items}
                    </div>
                </div>
            `;
        };

        /**
         * Renderiza a se√ß√£o de Explica√ß√µes Profundas (Deep Dive).
         */
        const renderDeepDive = (section) => {
            const content = section.explanationContent.map((item, index) => `
                <div key="${index}" class="mt-4 p-4 border-b border-red-200 last:border-b-0">
                    <h5 class="text-lg font-extrabold text-red-700 mb-2">${item.heading}</h5>
                    <ul class="list-disc list-inside space-y-2 text-gray-700 pl-4">
                        ${item.points.map(point => `<li class="text-sm">${point}</li>`).join('')}
                    </ul>
                </div>
            `).join('');

            return `
                <div class="p-6 rounded-2xl shadow-2xl bg-white border-4 border-red-600">
                    <h2 class="text-3xl font-extrabold text-red-800 mb-4">${section.title}</h2>
                    <p class="text-gray-600 mb-6 italic">${section.description}</p>
                    ${content}
                </div>
                ${renderWalkthrough(section.brazilianWalkthroughs || [])}
            `;
        };


        /**
         * Renderiza o Flashcard atual.
         */
        const renderFlashcard = () => {
            const card = flashcardData[currentFlashcardIndex];
            const flippedClass = isFlashcardFlipped ? 'flashcard-flip' : '';
            const totalCards = flashcardData.length;

            return `
                <div class="text-center">
                    <h2 class="text-3xl font-extrabold text-indigo-700 mb-4">Revis√£o de Flashcards (${currentFlashcardIndex + 1}/${totalCards})</h2>
                    <p class="text-gray-600 mb-6">Clique no cart√£o para virar e ver a resposta!</p>

                    <div class="card-container w-full h-80 relative mx-auto max-w-lg">
                        <div id="flashcard" class="relative w-full h-full transition-transform duration-500 transform-style-3d ${flippedClass}" onclick="handleFlipFlashcard()">
                            
                            <!-- Frente do Cart√£o -->
                            <div class="flashcard-front bg-indigo-200 text-indigo-900 border-4 border-indigo-700">
                                <span class="text-sm font-semibold absolute top-4 left-4 flex items-center text-indigo-600">
                                    ${getIcon('Lightbulb', 'w-4 h-4 mr-1')} Frente (Pergunta)
                                </span>
                                <p class="text-2xl font-bold p-4">${card.front}</p>
                            </div>

                            <!-- Verso do Cart√£o -->
                            <div class="flashcard-back bg-white text-green-800 border-4 border-green-600">
                                <span class="text-sm font-semibold absolute top-4 left-4 flex items-center text-green-600">
                                    ${getIcon('CheckCircle', 'w-4 h-4 mr-1')} Verso (Resposta)
                                </span>
                                <p class="text-3xl font-extrabold font-mono p-4">${card.back}</p>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8 flex justify-center space-x-4">
                        <button onclick="handleNextFlashcard(-1)" class="px-6 py-3 bg-gray-500 text-white font-bold rounded-full shadow-lg hover:bg-gray-600 transition disabled:opacity-50 flex items-center" ${currentFlashcardIndex === 0 ? 'disabled' : ''}>
                            ${getIcon('ChevronRight', 'w-5 h-5 mr-2 rotate-180')} Anterior
                        </button>
                        <button onclick="handleNextFlashcard(1)" class="px-6 py-3 bg-indigo-600 text-white font-bold rounded-full shadow-lg hover:bg-indigo-700 transition disabled:opacity-50 flex items-center">
                            Pr√≥ximo ${getIcon('ChevronRight', 'w-5 h-5 ml-2')}
                        </button>
                    </div>

                    ${currentFlashcardIndex === totalCards - 1 ? `
                        <div class="mt-8 p-4 bg-green-100 text-green-800 font-bold rounded-xl border border-green-400">
                            Parab√©ns! Voc√™ concluiu a revis√£o.
                            <button onclick="handleNextSection()" class="mt-3 block w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">
                                Finalizar Li√ß√£o
                            </button>
                        </div>
                    ` : ''}
                </div>
            `;
        };

        /**
         * Renderiza o conte√∫do da se√ß√£o da li√ß√£o (Tabela + Walkthrough + Exemplos).
         */
        const renderLessonSection = (section) => {
            let contentHTML = '';

            if (section.isExplanation) {
                // Se for a se√ß√£o de Deep Dive (Explica√ß√µes Profundas)
                contentHTML = renderDeepDive(section);
            } else {
                // Se for uma se√ß√£o de Tabela
                contentHTML = renderTable(section.data, section.headers);

                // Adiciona a se√ß√£o de Walkthrough se houver dados
                if (section.brazilianWalkthroughs && section.brazilianWalkthroughs.length > 0) {
                    contentHTML += renderWalkthrough(section.brazilianWalkthroughs);
                }

                // Adiciona exemplos de uso se houver
                if (section.examples && section.examples.length > 0) {
                    const color = section.color.includes('border') ? section.color : `border-${section.color.split('-')[1]}-600`;
                    contentHTML += renderExamples(
                        section.examples,
                        'Exemplos Pr√°ticos em Frases',
                        color
                    );
                }
            }

            return `
                <div class="p-6 rounded-2xl shadow-2xl bg-white border-4 ${section.color}">
                    <h2 class="text-3xl font-extrabold text-blue-900 mb-4">${section.title}</h2>
                    <p class="text-gray-600 mb-6 italic">${section.description}</p>
                    ${contentHTML}
                </div>
            `;
        };

        /**
         * L√≥gica de Navega√ß√£o e Inje√ß√£o no DOM.
         */
        const renderApp = () => {
            const app = document.getElementById('app');
            let content = '';
            let navigationControls = '';
            const totalSections = lessonData.length;

            if (isReviewMode) {
                // Modo Flashcard
                content = renderFlashcard();
            } else if (currentSectionIndex < totalSections) {
                // Modo Li√ß√£o
                const currentSection = lessonData[currentSectionIndex];
                content = renderLessonSection(currentSection);

                // Controles de navega√ß√£o para as se√ß√µes da li√ß√£o
                navigationControls = `
                    <div class="mt-8 flex justify-between items-center p-4 bg-white rounded-xl shadow-lg border-t border-gray-200">
                        <button onclick="handlePrevSection()" class="px-4 py-2 bg-gray-200 text-gray-700 font-bold rounded-full shadow-md hover:bg-gray-300 transition disabled:opacity-50 flex items-center" ${currentSectionIndex === 0 ? 'disabled' : ''}>
                            ${getIcon('ChevronRight', 'w-5 h-5 mr-2 rotate-180')} Li√ß√£o Anterior
                        </button>
                        <span class="text-sm font-semibold text-gray-500">
                            ${currentSectionIndex + 1} de ${totalSections}
                        </span>
                        <button onclick="handleNextSection()" class="px-4 py-2 bg-blue-600 text-white font-bold rounded-full shadow-md hover:bg-blue-700 transition flex items-center">
                            ${currentSectionIndex === totalSections - 1 ? 'Iniciar Revis√£o' : 'Pr√≥xima Li√ß√£o'}
                            ${getIcon('ChevronRight', 'w-5 h-5 ml-2')}
                        </button>
                    </div>
                `;
            } else {
                // Modo Finalizado
                content = `
                    <div class="p-8 text-center bg-green-50 rounded-2xl shadow-2xl border-4 border-green-600">
                        <h2 class="text-4xl font-extrabold text-green-700 mb-4">Felicita√ß√µes! üéâ</h2>
                        <p class="text-xl text-gray-700 mb-6">Voc√™ concluiu a li√ß√£o completa sobre Pronomes em Franc√™s e a revis√£o de Flashcards.</p>
                        <button onclick="resetLesson()" class="px-6 py-3 bg-red-600 text-white font-bold rounded-full shadow-lg hover:bg-red-700 transition flex items-center mx-auto">
                            ${getIcon('RotateCcw', 'w-5 h-5 mr-2')} Reiniciar Li√ß√£o
                        </button>
                    </div>
                `;
            }


            // Renderiza o cabe√ßalho principal uma vez
            const header = `
                <header class="text-center mb-8 p-6 bg-white rounded-xl shadow-xl border-t-8 border-blue-600">
                    <h1 class="text-4xl font-extrabold text-gray-900">
                        üá´üá∑ Li√ß√£o: Dominando os Pronomes em Franc√™s
                    </h1>
                    <p class="mt-2 text-xl text-gray-600">
                        Guia completo focado nas dificuldades de falantes de Portugu√™s do Brasil.
                    </p>
                </header>
            `;

            app.innerHTML = header + content + navigationControls;

            // Reatribui listeners de clique ap√≥s a inje√ß√£o de HTML
            if (isReviewMode) {
                document.getElementById('flashcard')?.addEventListener('click', handleFlipFlashcard);
            }
        };

        // --- Fun√ß√µes de Manipula√ß√£o de Estado ---

        window.handleNextSection = () => {
            if (currentSectionIndex === lessonData.length - 1) {
                isReviewMode = true;
                currentFlashcardIndex = 0;
                isFlashcardFlipped = false;
            } else {
                currentSectionIndex++;
            }
            renderApp();
        };

        window.handlePrevSection = () => {
            if (currentSectionIndex > 0) {
                currentSectionIndex--;
            }
            renderApp();
        };

        window.handleFlipFlashcard = () => {
            isFlashcardFlipped = !isFlashcardFlipped;
            // Atualiza apenas a classe no elemento do DOM para uma transi√ß√£o suave
            const cardElement = document.getElementById('flashcard');
            if (cardElement) {
                cardElement.classList.toggle('flashcard-flip', isFlashcardFlipped);
            }
        };

        window.handleNextFlashcard = (direction) => {
            isFlashcardFlipped = false;
            currentFlashcardIndex += direction;
            if (currentFlashcardIndex < 0) {
                currentFlashcardIndex = 0;
            } else if (currentFlashcardIndex >= flashcardData.length) {
                currentFlashcardIndex = flashcardData.length - 1;
                // Se o usu√°rio clicar 'pr√≥ximo' na √∫ltima, a l√≥gica de renderiza√ß√£o ir√° lidar com a finaliza√ß√£o.
            }
            renderApp();
        };

        window.resetLesson = () => {
            currentSectionIndex = 0;
            currentFlashcardIndex = 0;
            isFlashcardFlipped = false;
            isReviewMode = false;
            renderApp();
        };

        // --- Inicializa√ß√£o ---
        window.onload = renderApp;

    </script>
</body>
</html>
